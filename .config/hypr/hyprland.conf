source = ~/.config/hypr/env_var.conf
source = ~/.config/hypr/keybinds.conf

# ######################
# ## Startup Services ##
# ######################

exec-once = xdg-portal-hyprland
#exec-once = hyprpm reload -n
exec-once = bat cache --build
exec-once = wl-clip-persist -c primary
exec-once = systemctl --user import-environment QT_QPA_PLATFORMTHEME
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = /usr/lib/polkit-kde-authentication-agent-1 & 
exec-once = systemctl --user import-environment XDG_SESSION_TYPE XDG_CURRENT_DESKTOP WAYLAND_DISPLAY QT_QPA_PLATFORMTHEME

# #####################
# ## Sourcing Colors ##
# #####################

source=$HOME/.config/hypr/colors/catppuccin-mocha.conf

# ################
# ## Set Waybar ##
# ################

exec-once = $HOME/.config/waybar/bin/reloadway

# ###################
# ## Set Wallpaper ##
# ###################

exec-once = hyprpaper

# #############################
# ## Set Notification Daemon ##
# #############################

exec-once = mako

# #############
# ## MONITOR ##
# #############

monitor = eDP-1,2256x1504,auto,1.333333
monitor = DVI-I-1,1920x1080@75,-792x-1080,1 # HelloWork monitors
monitor = DVI-I-2,1920x1080@75,1128x-1080,1 # HelloWork monitors
monitor = ,preferred,auto,auto

# Autodisable monitor when lid switch close
# or hibernate if no eDP-1 monitor is available
bindl = ,switch:off:Lid Switch,exec,hyprctl keyword monitor "eDP-1,2256x1504,auto,1.333333"
bindl = ,switch:on:Lid Switch,exec,bash ~/.config/hypr/scripts/hibernate

# ##############
# ## Xwayland ##
# ##############

xwayland {
  force_zero_scaling = true
  use_nearest_neighbor = false
  enabled = true
}

# ########################################
# ## Configure mouse and touchpad here. ##
# ########################################

input {
    kb_layout = us
    kb_options = compose:ralt
    numlock_by_default = true
    follow_mouse = 0
    float_switch_override_focus = 0
    sensitivity = 0
    accel_profile = flat
    repeat_rate = 25
    repeat_delay = 600

    touchpad {
     natural_scroll = yes
     disable_while_typing = no
     middle_button_emulation = no
     drag_lock = no
     tap-to-click = no 
    }
}

cursor {
    sync_gsettings_theme = true
    enable_hyprcursor = false
}

# ####################################################################
# ## Configure general , decoration , gestures and animations here. ##
# ####################################################################

general {
  gaps_in = 2
  gaps_out = 0
  border_size = 2
  col.active_border = $sapphire
   col.inactive_border = rgba(000000FF)

  # Rainbow Borders
  #col.active_border = rgb(ff0000) rgb(ffff00) rgb(00ff00) rgb(00ffff) rgb(0000ff) rgb(ff00ff)

  layout = dwindle
  resize_on_border = true
  extend_border_grab_area = 10
  allow_tearing = true  # Vsync
}


decoration {
  rounding = 10
  inactive_opacity = 0.8
  active_opacity = 1.00
  fullscreen_opacity = 1.00
#shadow{
#  enabled = false
#  dim_inactive = true
#  dim_strength = 0.20
#  shadow_range = 5
#  shadow_render_power = 1
#  col.shadow = $sapphire
#  col.shadow_inactive = 0xff$surface0Alpha
#}
  blur {
    enabled =  true
    size = 8
    passes = 2
    ignore_opacity = false
    brightness = 1.0
    xray = false
    vibrancy = 0.3
    vibrancy_darkness = 0.05
    contrast = 1.0
    popups = true
    new_optimizations = true
    noise = 0.05
  }
}

gesture = 3, horizontal, workspace

animations {
  enabled = true

# Defining Custom Bezier Curves
  bezier = wind, 0.5, 0.9, 0.5, 1.05
  bezier = winIn, 0.5, 1.6, 0.7, 1
  bezier = winOut, 0.5, 1.6, 0.6, 1
  bezier = bounce, 0.7, 1.9, 0.5, 1

# Applying Bezier Curves 
  animation = windowsIn, 1, 3, winIn, popin
  animation = windowsOut, 1, 3, winOut, popin
  animation = windowsMove, 1, 3, wind, slide
  animation = fade, 1, 3, wind
  animation = workspaces, 1, 3, wind
  animation = windows, 1, 3, bounce, popin
}

# #####################################
# ## Configure layout settings here. ##
# #####################################

dwindle {
  pseudotile = no
  preserve_split = yes
}

# ###################################
# ## Configure misc settings here. ##
# ###################################

misc {
    disable_hyprland_logo = true
    enable_swallow = true
    swallow_regex = ^(footclient|foot)$
    focus_on_activate = true
    mouse_move_enables_dpms = false
    vfr = true
    vrr = 0 
    animate_manual_resizes = false
    mouse_move_focuses_monitor = true
    disable_splash_rendering = true
}

render { 
  direct_scanout = true
}

# ####################################
# ## Configure Debug settings here. ##
# ####################################

debug {
  damage_tracking = 2
  disable_logs = true
  disable_time = true
}


# ################
# ## ECO-SYSTEM ##
# ################

ecosystem {
  no_update_news = true
}

# #############
# ## PLUGINS ##
# #############

#plugin {
#    hyprtasking {
#        rows = 2
#        exit_behavior = original hovered interacted
#        gap_size = 8
#        bg_color = rgba(000000FF)
#    }
#}

# ##################
# ## Window Rules ##
# ##################

#windowrule = float, file_progress
#windowrule = float, confirm
#windowrule = float, dialog
#windowrule = float, download
#windowrule = float, notification
#windowrule = float, error
#windowrule = float, splash
#windowrule = float, confirmreset
#windowrule = float, title:Open File
#windowrule = float, title:branchdialog
#windowrule = float, Lxappearance
#windowrule = float, viewnior
#windowrule = float, feh
#windowrule = float, pavucontrol-qt
#windowrule = float, pavucontrol
#windowrulev2 = float, file-roller
windowrule = float on, match:title ^(Media viewer)$
windowrule = float on, match:class org.pulseaudio.pavucontrol, match:title Volume Control
windowrule = float on, match:title ^(Picture-in-Picture)$
windowrule = size 800 600, match:title Volume Control
windowrule = size 1000 700, match:title ^(Open Files)$
windowrule = size 1000 700, match:title ^(Save File)$
windowrule = no_initial_focus on, match:class ^jetbrains-.*$, match:float true, match:title ^$|^\s$|^win\d+$

# #################
# ## Layer Rules ##
# #################

layerrule = no_anim on, match:namespace rofi
layerrule = no_anim on, match:namespace notifications
layerrule = no_anim on, match:namespace anyrun
layerrule = ignore_alpha 0, match:namespace anyrun
layerrule = blur on, match:namespace anyrun

# #####################
# ## Workspace Rules ##
# #####################

workspace = w[tv1], gapsout:0, gapsin:0, rounding:false, bordersize:0
workspace = f[1], gapsout:0, gapsin:0, rounding:false, bordersize:0
